<!DOCTYPE html>
<html>
  <head>
    <title>啤酒比赛</title>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="assets/css/index.css">
    <style type="text/css">
    .stage_container {
      position: relative;
      top: 304px;
      margin: 20px auto;

      opacity: 0.8;
      width: 1033px;
      height: 845px;
    }

    .score_bar {
      position: absolute;
      width: 407px;
      height: 108px;
      top: 50px;
      background-image: url('./assets/img/score_bar.png');
      background-repeat: no-repeat;
      transform: scale(0.8); 
    }

    .score_bar_left {
      left: 70px;
    }

    .score_bar_right {
      right: 70px;
    }

    div[class^="avatar"] {
      position: absolute;
      width: 70px;
      height: 70px;
      top: 20px;
      background: url('./assets/img/avatar_blank.png') no-repeat;
    }

    .avatar_left {
      left: 20px;
    }

    .avatar_right {
      right: 316px;
    }

    .vs {
      position: absolute;
      top: 60px;
      left: 470px;
      width: 96px;
      height: 83px;
      background: url('./assets/img/vs.png') no-repeat;
    }

    .role_left {
      position: absolute;
      top: 205px;
      left: 170px;
      background: url('./assets/img/left_role_1.png') no-repeat;
      width:271px;
      height: 505px;
    }
    .role_right {
      position: absolute;
      top: 210px;
      right: 115px;
      width:419px;
      height: 490px;
    }



    div[class^="barrel_"] {
      position: absolute;
      background: url('./assets/img/barrel.png') no-repeat;
      width: 300px;
      height: 396px;
      z-index: 50;
      top: 527px;
    }
    .barrel_left {
      left: 150px;
    }
    .barrel_right {
      right: 190px;
    }
    div[class^="beer"] {
      position: absolute;
      background: url('./assets/img/beer_cup.png') no-repeat;
      width: 59px;
      height: 93px;
      transform: scale(1.1);
    }
    .level_1 {
      top: 380px;
      z-index: 300;
    }
    .beer_left_1 {
      left: 275px;
    }
    .beer_right_1 {
      right: 295px;
    }
    .level_2 {
      top: 445px;
      z-index: 250;
    }
    .beer_left_2 {
      left: 250px;
    }
    .beer_right_2 {
      right: 270px;
    }
    .beer_left_3 {
      left: 310px;
    }
    .beer_right_3 {
      right: 330px;
    }
    .level_3 {
      top: 510px;
      z-index: 200;      
    }
    .beer_left_4 {
      left: 220px;
    }
    .beer_left_5 {
      top: 525px;
      left: 275px;
      z-index: 225;
    }
    .beer_left_6 {
      left: 330px;
    }
    .beer_right_4 {
      right: 355px;
    }
    .beer_right_5 {
      top: 530px;
      right: 300px;
      z-index: 225;
    }
    .beer_right_6 {
      right: 250px;
    }

    .shine {
      position: absolute;
      opacity: 0;
      background: url('./assets/img/light.png') no-repeat;
      background-size: cover;
      width: 500px;
      height: 500px;
      z-index: -50;
      top: 240px;
    }

    .shine_left {
      left: 50px;
    }

    .shine_right {
      right: 100px;
    }

    .win_shine {
      opacity: 1;
      animation-name: k-win-shine;
      animation-duration: 10s;
      animation-iteration-count: infinite;
      animation-timing-function: linear;
      animation-delay: .1s;
    }

    @keyframes k-win-shine {
      from {
          transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }


.role_left_ingame {
  animation-name: k-left-ingame;
  animation-duration: 1s;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}

@keyframes k-left-ingame {
  from {
      background: url('./assets/img/left_role_1.png') no-repeat;
  }
  to {
    background: url('./assets/img/left_role_2.png') no-repeat;
  }
}

.role_right_ingame {
  animation-name: k-right-ingame;
  animation-duration: 1s;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}

@keyframes k-right-ingame {
  from {
      background: url('./assets/img/right_role_1.png') no-repeat;
  }
  to {
    background: url('./assets/img/right_role_2.png') no-repeat;
  }
}

.role_left_win {
  background: url('./assets/img/left_role_win.png') no-repeat;
}

.role_left_lose {
  background: url('./assets/img/left_role_lose.png') no-repeat;
}

.role_right_win {
  animation-name: k-right-role-win;
  animation-duration: 1s;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}

@keyframes k-right-role-win{
  from {
      background: url('./assets/img/right_role_win_1.png') no-repeat;
  }
  to {
    background: url('./assets/img/right_role_win_2.png') no-repeat;
    background-size: cover;
  }  
}

.role_right_lose {
  background: url('./assets/img/right_role_lose.png') no-repeat;
}

div[class^="score"]

.score {
  position: absolute;
  background-color: #e0c358;
  /*width: 265px;*/
  height: 18px;
  border-radius: 15px;
  top: 18px;
  left: 95px;
}
    </style>
  </head>
  <body>
  <div class="kiosk-wrap">
    <section class="step4 stage">
      <div class="stage_container">
        <div class="score_bar score_bar_left"><div class="avatar_left"><div class="score score_left"></div></div></div>
        <div class="vs"></div>
        <div class="score_bar score_bar_right"><div class="avatar_right"><div class="score score_right"></div></div></div>
        <div class="shine shine_left win_shinie"></div>
        <div class="shine shine_right win_shine"></div>
        <div class="role_left role_left_ingame"></div>
        <div class="role_right role_right_ingame"></div>
        <div class="barrel_left"></div>
        <div class="barrel_right"></div>
        <div class="beer_left_1 level_1"></div>
        <div class="beer_left_2 level_2"></div>
        <div class="beer_left_3 level_2"></div>
        <div class="beer_left_4 level_3"></div>
        <div class="beer_left_5 level_3"></div>
        <div class="beer_left_6 level_3"></div>
        <div class="beer_right_1 level_1"></div>
        <div class="beer_right_2 level_2"></div>
        <div class="beer_right_3 level_2"></div>
        <div class="beer_right_4 level_3"></div>
        <div class="beer_right_5 level_3"></div>
        <div class="beer_right_6 level_3"></div>
      </div>
    </section>
    <div class="ad"></div>
  </div>
    <script src="assets/vendor/jquery.js"></script>
    <script src="assets/vendor/velocity.min.js"></script>
    <script src="assets/vendor/velocity.ui.min.js"></script>
    
	<script>
  $(".role_left").velocity({
    backgroundImage: './assets/img/left_role_2.png'
  },{
    duration: 100,
    loop: true
  });

  var beerDrinkUp = {
    p: {
      opacity: 0,
      top:0
    },
    o: {
      duration: 400,
      easing: "linear"
    }
  }

  var drinkUp = function(e) {
    e.velocity(beerDrinkUp.p, beerDrinkUp.o)
  }

  // drinkUp($(".beer_left_1"));
  // $(".beer_left_1").velocity(beerDrinkUp.p, beerDrinkUp.o);

  var loadingSequence = [
  { e: $(".beer_left_1"), p: beerDrinkUp.p, o: beerDrinkUp.o},
  { e: $(".beer_left_2"), p: beerDrinkUp.p, o: beerDrinkUp.o},
  { e: $(".beer_left_3"), p: beerDrinkUp.p, o: {duration: 400, easing: "linear",sequenceQueue:false}},
  { e: $(".beer_left_4"), p: beerDrinkUp.p, o: beerDrinkUp.o},
  { e: $(".beer_left_5"), p: beerDrinkUp.p, o: beerDrinkUp.o},
  { e: $(".beer_left_6"), p: beerDrinkUp.p, o: beerDrinkUp.o}
  ]

  $.Velocity.RunSequence(loadingSequence);
	</script>
  </body>
</html>